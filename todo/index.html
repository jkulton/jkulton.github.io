<html ng-app="todo">
	<head>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular.min.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.4.7/angular-route.min.js"></script>
		<link rel="stylesheet" href="../styles.css"/>
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<style>textarea:focus{outline-color:gold;}</style>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-base64/2.0.5/angular-base64.min.js"></script>
		<script src="https://cdn.rawgit.com/zenorocha/clipboard.js/master/dist/clipboard.min.js"></script>
		<script src="./ngclipboard.min.js"></script>
     	<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate"/>
     	<meta http-equiv="Pragma" content="no-cache"/>
     	<meta http-equiv="Expires" content="0"/>
	</head>
	<body ng-controller="TodoController" class="mw7 center pa3">
		<h1 class="f3 ttu tc tracked mt2 mb2">Todo
		<span class="moon-gray ml2-ns f6 italic db">beta</span></h1>
		<p class="tc f6 gray mb2 mt1">Store your todo list in a url</p>

		<ul class="todo-list list pa0">
			<li ng-class="{ complete : checks[$index] }" class="relative" ng-repeat="todo in todos track by $index">
				<input ng-model="checks[$index]" ng-click="parseTodos()" class="dib" type="checkbox" />
				<input ng-blur="showIndicator = false" ng-focus="showIndicator = true" id="todo-{{$index}}" ng-keyup="$event.keyCode == 13 ? addTodo() : null" ng-model="todos[$index]" type="text" ng-change="parseTodos()" class="todo" />
				<span class="absolute right-0 top-0 delete" ng-click="deleteTodo($index)">[x]</span>
				<span ng-class="{ 'indicator-show' : showIndicator }" class="sans-serif absolute left-0 bottom--2 f6 moon-gray mt2 indicator">press Enter for new item</span>
			</li>
		</ul>

		<a class="db tc mb2 center mt3 moon-gray" ng-click="copied()" ngclipboard data-clipboard-text="{{share}}">Share this list</a>

		<script src="app.js"></script>
	</body>
</html>

<style>
ul { font-family: 'Droid Sans Mono', monospace; }
.delete { color: #ccc; }
.delete:hover { color: red; cursor: pointer; }
.bottom--2 { bottom: -.5rem; }
.todo:focus { outline: none; }

.todo {
	padding: .5rem;
	margin: .5rem 0;
	width: 90%;
	border: 0;
	background: transparent;
	position: relative;
	display: inline-block;
}

.complete input {
	color: #a6a6a6;
	text-decoration: line-through;
}

.indicator {
	opacity: 0;
	transition: 200ms ease-in opacity;
}

.indicator-show { opacity: 1; }
</style>